<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <h1>Input</h1>
    <form action="/liff/share" method="get">
      標題: <input type="text" name="title" id="title" required />
      <br />
      地點: <input type="text" name="place" id="place" required />
      <br />
      時間:<input type="text" name="time" id="time" required />
      <br />
      網址(選填): <input type="text" name="url" id="url" />
      <br />
      標籤: <input type="text" name="activity" id="activity" required />
      <br />
      描述:
      <textarea name="desc" id="desc" cols="30" rows="10"></textarea>
      <input
        type="hidden"
        name="template"
        id="template"
        value="<%= template %>"
      />
      <br />
      <input type="submit" value="送出" />
    </form>
    <script src="https://static.line-scdn.net/liff/edge/versions/2.3.1/sdk.js"></script>
  </body>
  <script>
    liff
      .init({ liffId: "<%= liffId %>" })
      .then(() => {
        if (!liff.isLoggedIn()) {
          liff.login({ redirectUri: location.href });
          return new Promise((resolve) => {}); // 永遠不會結束的 Promise
        }
      })
      .catch((err) => {
        alert("ERROR 0.0");
      });
  </script>
</html>
